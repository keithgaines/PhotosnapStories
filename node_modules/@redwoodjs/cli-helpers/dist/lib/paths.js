"use strict";

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js/object/define-property");
var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault").default;
_Object$defineProperty(exports, "__esModule", {
  value: true
});
exports.resolveFile = exports.getPaths = void 0;
var _lodash = _interopRequireDefault(require("lodash.memoize"));
var _projectConfig = require("@redwoodjs/project-config");
var _colors = require("./colors");
function isErrorWithMessage(e) {
  return !!e.message;
}

/**
 * This wraps the core version of getPaths into something that catches the exception
 * and displays a helpful error message.
 */
const _getPaths = () => {
  try {
    return (0, _projectConfig.getPaths)();
  } catch (e) {
    if (isErrorWithMessage(e)) {
      console.error(_colors.colors.error(e.message));
    }
    process.exit(1);
  }
};
const getPaths = (0, _lodash.default)(_getPaths);
exports.getPaths = getPaths;
const resolveFile = _projectConfig.resolveFile;
exports.resolveFile = resolveFile;